import{u as f,j as e,e as h,f as g}from"./index-kcVwnAYe.js";import{r as n}from"./router-DrLa08Eq.js";import{L as c,B as p,g as j}from"./ui-Cb5zUclg.js";import"./vendor-Bzgz95E1.js";import"./firebase-nYQGFj22.js";const I=()=>{const{user:a}=f(),[r,i]=n.useState({name:"",address:"",phone:"",email:"",taxId:"",userId:""}),[m,x]=n.useState(!0),[o,d]=n.useState(!1);n.useEffect(()=>{(async()=>{if(a)try{const l=await h(a.uid);i(l?{...l,userId:a.uid}:u=>({...u,userId:a.uid}))}catch(l){console.error("Error fetching business:",l)}finally{x(!1)}})()},[a]);const b=async()=>{if(a){d(!0);try{await g({...r,userId:a.uid}),alert("Business information saved successfully!")}catch(s){console.error("Error saving business:",s),alert("Failed to save business information.")}finally{d(!1)}}},t=(s,l)=>{i(u=>({...u,[s]:l}))};return m?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx(c,{className:"w-6 h-6 animate-spin text-blue-500"})}):e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(p,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Business"}),e.jsx("p",{className:"text-slate-500",children:"Manage your business information"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Business Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>t("name",s.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter your business name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Address"}),e.jsx("textarea",{value:r.address,onChange:s=>t("address",s.target.value),rows:3,className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none",placeholder:"Enter your business address"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:r.phone,onChange:s=>t("phone",s.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>t("email",s.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter email address"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tax ID / Registration Number"}),e.jsx("input",{type:"text",value:r.taxId,onChange:s=>t("taxId",s.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Enter tax ID or registration number"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:b,disabled:o||!r.name.trim(),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o?e.jsx(c,{className:"w-4 h-4 animate-spin"}):e.jsx(j,{className:"w-4 h-4"}),o?"Saving...":"Save Business Info"]})})]})})]})};export{I as Business};
